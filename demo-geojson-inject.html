<!doctype html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Empty GeoJson Layer - Canadian Geospatial Platform Viewer</title><link rel="shortcut icon" href="./favicon.ico"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="msapplication-config" content="./img/browserconfig.xml"/><meta name="theme-color" content="#ffffff"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="css/style.css"/><script src="cgpv-main.js"></script></head><body><div class="header-table"><table><tbody><tr><td><img class="header-logo" alt="logo" src="./img/Logo.png"/></td><td class="header-title"><h1><strong>Empty GeoJSON Layer</strong></h1></td></tr></tbody></table><table><tbody><tr><td><a href="./index.html">Main</a><br/></td></tr><tr><td><p>This page is used to show injecting geojson features into an existing layers</p></td></tr></tbody></table></div><div id="LYR1" class="geoview-map" data-lang="en" data-config="{
        'map': {
          'interaction': 'dynamic',
          'viewSettings': {
            'projection': 3857,
            'maxExtent': [-170, -90, 170, 90]
          },
          'basemapOptions': {
            'basemapId': 'transport',
            'shaded': false,
            'labeled': false
          },
          'listOfGeoviewLayerConfig': [
            {
              'geoviewLayerId': 'geojsonLYR1',
              'geoviewLayerName': { 'en': 'GeoJSON Sample' },
              'geoviewLayerType': 'GeoJSON',
              'listOfLayerEntryConfig': [
                {
                  'layerId': 'blank.json',
                  'layerName': { 'en': 'Empty' },
                  'source': {
                    'featureInfo': { 'queryable': true},
                    'dataAccessPath': {
                      'en': './datasets/geojson'
                    }
                  },
                  'style': {
                    'Point': {
                      'styleType': 'simple',
                      'label': 'Point label',
                      'settings': {
                        'type': 'simpleSymbol',
                        'symbol': 'star'
                      }
                    },
                    'LineString': {
                      'styleType': 'simple',
                      'label': 'LineString label',
                      'settings': {
                        'type': 'lineString',
                        'stroke': {
                          'lineStyle': 'shortDash-dot-dot',
                          'color': 'rgba(128,128,0,1)'
                        }
                      }
                    }
                  }
                }
              ]
            }
          ]
        },
        'components': ['overview-map'],
        'overviewMap': {'hideOnZoom': 7},
        'footerBar': {
          'tabs': {
            'core': ['legend', 'layers', 'details', 'data-table']
          }
        },
        'corePackages': [],
        'theme': 'geo.ca'
        }"></div><hr/><div><h3>API Functions:</h3><ul><li><button id="Add-lines">Place line strings</button><br/>cgpv.api.maps.LYR1.layer.getGeoviewLayer('geojsonLYR1/blank.json').overrideGeojsonSource('geojsonLYR1/blank.json', lines)</li><li><button id="Add-points">Place points</button><br/>cgpv.api.maps.LYR1.layer.getGeoviewLayer('geojsonLYR1/blank.json').overrideGeojsonSource('geojsonLYR1/blank.json', points)</li></ul></div><script>// initialize cgpv and api events, a callback is optional, used if calling api's after the rendering is ready
      cgpv.init((mapId) => {});

      // Add line strings button ====================================================================================
      // find the button element by ID
      var addLinesButton = document.getElementById('Add-lines');

      const lines = {
        type: 'FeatureCollection',
        features: [
          {
            type: 'Feature',
            properties: {
              Road_Number: 55,
              Province: 'Quebec',
              creationDate: '28/05/2020T12:00:00-05:00',
            },
            geometry: {
              type: 'LineString',
              coordinates: [
                [-79, 49],
                [-78, 46],
              ],
            },
          },
          {
            type: 'Feature',
            properties: {
              Road_Number: 55,
              Province: 'Quebec',
              creationDate: '14/09/2021T13:00:00-05:00',
            },
            geometry: {
              type: 'LineString',
              coordinates: [
                [-78, 49],
                [-76, 46],
                [-77, 49],
              ],
            },
          },
          {
            type: 'Feature',
            properties: {
              Road_Number: 20,
              Province: 'Ontario',
              creationDate: '25/12/2020T12:00:00-05:00',
            },
            geometry: {
              type: 'LineString',
              coordinates: [
                [-81, 51],
                [-80.5, 46],
                [-80, 49],
              ],
            },
          },
        ],
      };

      // add an event listener when a button is clicked
      addLinesButton.addEventListener('click', async () => {
        cgpv.api.maps.LYR1.layer.getGeoviewLayer('geojsonLYR1/blank.json').overrideGeojsonSource('geojsonLYR1/blank.json', lines);
      });

      // Add points button ====================================================================================
      // find the button element by ID
      var addPointsButton = document.getElementById('Add-points');

      const points =
        '{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"data":"92;43.54;12.3;66;75","label":"Red;Green;Blue;Yellow;Orange","creationDate":"14/01/2020T12:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-141,42]}},{"type":"Feature","properties":{"data":"92;43.54;12.3;66;75","label":"Red;Green;Blue;Yellow;Orange","creationDate":"16/02/2020T12:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-141,83]}},{"type":"Feature","properties":{"data":"553;54;32;5.43;55","label":"Red;Green;Blue;Yellow;Orange;","creationDate":"19/08/2022T14:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-53,83]}},{"type":"Feature","properties":{"data":"255;255;255;5.43;55","label":"Red;Green;Blue;Yellow;Orange;","creationDate":"30/10/2022T12:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-53,42]}},{"type":"Feature","properties":{"Red":92,"Green":"1 Start, this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text. END","Blue":"2 Start, this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text. END","Yellow":"3 Start, this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text.this is very long text. END","Orange":75,"creationDate":"15/02/2022T05:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-100,47]}},{"type":"Feature","properties":{"Red":553,"Green":54,"Blue":32.3,"Yellow":5.43,"Orange":55,"creationDate":"07/01/2020T12:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-113,45]}},{"type":"Feature","properties":{"Red":255,"Green":255,"Blue":32.3,"Yellow":5.43,"Orange":55,"creationDate":"15/02/2019T17:00:00-05:00"},"geometry":{"type":"Point","coordinates":[-103,54]}}]}';

      // add an event listener when a button is clicked
      addPointsButton.addEventListener('click', async () => {
        cgpv.api.maps.LYR1.layer.getGeoviewLayer('geojsonLYR1/blank.json').overrideGeojsonSource('geojsonLYR1/blank.json', points);
      });</script></body></html>