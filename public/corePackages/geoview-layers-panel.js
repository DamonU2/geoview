/*! Package:geoview-layers-panel: 0.1.0 - "379c7e3bd82b413571956eb4199febe27f72e82f" - 2022-12-20T23:37:36.451Z */
"use strict";(self.webpackChunkgeoview_core=self.webpackChunkgeoview_core||[]).push([[763],{925:(e,t,n)=>{var r=n(7886),a=n(1116),i=n(71120),o=n(33756),s=n(81770),l=n(23078),c=n(3),u=n(21144),p=n(47502),d=n(90755),f=n(93780),h=n(10835),v=n.n(h),y=n(45202);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=window;const b=function(e){var t=e.mapId,n=e.setAddLayerVisible,r=g.cgpv,a=r.api,i=r.react,o=r.ui,s=a.layerTypes,l=s.ESRI_DYNAMIC,c=s.ESRI_FEATURE,p=s.GEOJSON,h=s.WMS,x=s.WFS,b=s.OGC_FEATURE,E=s.XYZ_TILES,j=s.GEOCORE,A=i.useState,C=i.useEffect,L=o.elements,w=L.Select,S=L.Stepper,N=L.TextField,I=L.Button,O=L.ButtonGroup,R=L.Autocomplete,k=L.CircularProgressBase,P=L.Box,Z=L.IconButton,T=L.CloseIcon,_=A(0),F=(0,d.Z)(_,2),U=F[0],V=F[1],D=A(""),B=(0,d.Z)(D,2),M=B[0],W=B[1],Y=A(""),G=(0,d.Z)(Y,2),K=G[0],J=G[1],X=A([]),z=(0,d.Z)(X,2),Q=z[0],q=z[1],$=A(""),H=(0,d.Z)($,2),ee=H[0],te=H[1],ne=A([]),re=(0,d.Z)(ne,2),ae=re[0],ie=re[1],oe=A(!1),se=(0,d.Z)(oe,2),le=se[0],ce=se[1],ue={buttonGroup:{paddingTop:12,gap:6}},pe=function(){return K===l||K===x},de=[[l,"ESRI Dynamic Service"],[c,"ESRI Feature Service"],[p,"GeoJSON"],[h,"OGC Web Map Service (WMS)"],[x,"OGC Web Feature Service (WFS)"],[b,"OGC API Features"],[E,"XYZ Raster Tiles"],[j,"GeoCore"]];C((function(){return a.event.on(a.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN,(function(e){e.message&&"validation.layer.loadfailed"===e.message.value&&ce(!1)}),t),function(){a.event.off(a.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN,t)}}),[]);var fe=function(e){switch(e){case l:return{err:"ESRI Map",capability:"Map"};case c:return{err:"ESRI Feature",capability:"Query"};default:return{err:"",capability:""}}},he=function(e){ce(!1),a.event.emit((0,u.ZuA)(a.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN,t,{type:"string",value:"".concat(e," cannot be empty")}))},ve=function(e){ce(!1),a.event.emit((0,u.ZuA)(a.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN,t,{type:"string",value:"URL is not a valid ".concat(e," Server")}))},ye=function(e,n,r){ce(!1),a.event.emit((0,u.ZuA)(a.eventNames.SNACKBAR.EVENT_SNACKBAR_OPEN,t,{type:"string",value:"".concat(e," does not support current map projection ").concat(n,", only ").concat(r.join(", "))}))},xe=function(){var e=(0,f.Z)(v().mark((function e(){var n,r,i,o,s,l,c,u,p,f,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.projection.projections[a.map(t).currentProjection].getCode(),r=[],e.prev=2,i=M.split("?"),o=(0,d.Z)(i,2),s=o[0],l=o[1],c=new URLSearchParams(l),u=c.get("layers"),e.next=8,a.geoUtilities.getWMSServiceMetadata(s,null!=u?u:"");case 8:if(p=e.sent,(r=p.Capability.Layer.CRS).includes(n)){e.next=12;break}throw new Error("proj");case 12:f=[],h=function e(t){t.Layer&&t.Layer.length>0?t.Layer.forEach((function(t){e(t)})):f.push([t.Name,t.Title])},p.Capability.Layer&&h(p.Capability.Layer),1===f.length?(te(f[0][1]),ie([{layerId:null!=u?u:f[0][0]}])):q(f),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(2),"proj"===e.t0.message?ye("WMS",n,r):ve("WMS"),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,f.Z)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.geoUtilities.getWFSServiceMetadata(M);case 3:t=e.sent,1===(n=t.FeatureTypeList.FeatureType.map((function(e){return[e.Name["#text"].split(":")[1],e.Title["#text"]]}))).length?(te(n[0][1]),ie([{layerId:n[0][0]}])):q(n),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),ve("WFS"),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,f.Z)(v().mark((function e(){var t,n,r,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["collections","links"],e.prev=1,e.next=4,fetch("".concat(M,"/collections?f=json"));case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,t.every((function(e){return Object.keys(r).includes(e)}))){e.next=11;break}throw new Error("err");case 11:1===(a=r.collections.map((function(e){return[e.id,e.title]}))).length?(te(a[0][1]),ie([{layerId:a[0][0]}])):q(a),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),ve("OGC API Feature"),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,f.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,-1===M.indexOf("/")&&32===M.replaceAll("-","").length){e.next=4;break}throw new Error("err");case 4:te(""),ie([{layerId:M}]),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),ve("GeoCore UUID"),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,f.Z)(v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.geoUtilities.getESRIServiceMetadata(M);case 3:if(!(n=e.sent).capabilities.includes(fe(t).capability)){e.next=8;break}"layers"in n?1===(r=n.layers.map((function(e){return[e.id,e.name]}))).length?(te(r[0][1]),ie([{layerId:r[0][0]}])):q(r):(te(n.name),ie([{layerId:n.id}])),e.next=9;break;case 8:throw new Error("err");case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),ve(fe(t).err),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){for(var e=a.projection.projections[a.map(t).currentProjection].getCode(),n=["{x}","{y}","{z}"],r=0;r<n.length;r+=1)if(!M.includes(n[r]))return ve("XYZ Tile"),!1;if("EPSG:3857"!==e)return ye("XYZ Tiles",e,["EPSG:3857"]),!1;var i=M;return te(""),ie([{layerId:M,source:{dataAccessPath:{en:i,fr:i}}}]),!0},Ae=function(){var e=(0,f.Z)(v().mark((function e(){var t,n,r,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(M);case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,["FeatureCollection","Feature"].includes(n.type)){e.next=9;break}throw new Error("err");case 9:r=M.split("/").pop(),a=M.replace(r,""),te(r),ie([{layerId:r,source:{dataAccessPath:{en:a,fr:a}}}]),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),ve("GeoJSON"),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,f.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!0),t=!0,void 0!==K){e.next=8;break}t=!1,ce(!1),he("Service Type"),e.next=52;break;case 8:if(K!==h){e.next=14;break}return e.next=11,xe();case 11:t=e.sent,e.next=52;break;case 14:if(K!==x){e.next=20;break}return e.next=17,me();case 17:t=e.sent,e.next=52;break;case 20:if(K!==b){e.next=26;break}return e.next=23,ge();case 23:t=e.sent,e.next=52;break;case 26:if(K!==E){e.next=30;break}t=je(),e.next=52;break;case 30:if(K!==l){e.next=36;break}return e.next=33,Ee(l);case 33:t=e.sent,e.next=52;break;case 36:if(K!==c){e.next=42;break}return e.next=39,Ee(c);case 39:t=e.sent,e.next=52;break;case 42:if(K!==p){e.next=48;break}return e.next=45,Ae();case 45:t=e.sent,e.next=52;break;case 48:if(K!==j){e.next=52;break}return e.next=51,be();case 51:t=e.sent;case 52:t&&(ce(!1),V(2));case 53:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){ce(!0);var e=a.generateId();a.event.on(a.eventNames.LAYER.EVENT_LAYER_ADDED,(function(){a.event.off(a.eventNames.LAYER.EVENT_LAYER_ADDED,t),ce(!1),n(!1)}),t,e);var r=!0,i=ee,o=M;if(K!==l&&K!==c||(o=a.geoUtilities.getMapServerUrl(M)),K===h){var s=M.split("?");o=(0,d.Z)(s,1)[0]}""===ee&&(r=!1,he(pe()?"Name":"Layer"));var u={geoviewLayerId:e,geoviewLayerName:{en:i,fr:i},geoviewLayerType:K,metadataAccessPath:{en:o,fr:o},listOfLayerEntryConfig:ae};K!==p&&K!==E||(u.metadataAccessPath={en:"",fr:""}),K===j&&delete u.metadataAccessPath,r&&(K===j&&setTimeout((function(){ce(!1),n(!1)}),3e3),a.map(t).layer.addGeoviewLayer(u))},we=function(){V((function(e){return e-1}))},Se=function(e){te(e.target.value)};function Ne(e){var t=e.isFirst,n=void 0!==t&&t,r=e.isLast,a=void 0!==r&&r,i=e.handleNext;return le?(0,y.jsx)(P,{sx:{padding:10},children:(0,y.jsx)(k,{})}):(0,y.jsxs)(O,{sx:ue.buttonGroup,children:[(0,y.jsx)(I,{variant:"contained",type:"text",onClick:i,children:a?"Finish":"Continue"}),!n&&(0,y.jsx)(I,{variant:"contained",type:"text",onClick:we,children:"Back"})]})}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(P,{sx:{display:"flex",justifyContent:"end",zIndex:2},children:(0,y.jsx)(Z,{color:"primary",onClick:function(){return n(!1)},children:(0,y.jsx)(T,{})})}),(0,y.jsx)(S,{sx:{position:"relative",top:"-30px",zIndex:1},activeStep:U,orientation:"vertical",steps:[{stepLabel:{children:"Enter URL / UUID"},stepContent:{children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(N,{sx:{width:"100%"},label:"URL",variant:"standard",value:M,onChange:function(e){W(e.target.value.trim()),J(""),q([]),te(""),ie([])},multiline:!0}),(0,y.jsx)("br",{}),(0,y.jsx)(Ne,{isFirst:!0,handleNext:function(){var e,t,n=!0;""===M.trim()&&(n=!1,he("URL")),n&&(e=M.toUpperCase().split("/"),t=parseInt(e[e.length-1],10),M.toUpperCase().endsWith("MAPSERVER")||M.toUpperCase().endsWith("MAPSERVER/")?J(l):-1!==M.toUpperCase().indexOf("FEATURESERVER")||-1!==M.toUpperCase().indexOf("MAPSERVER")&&!Number.isNaN(t)?J(c):-1!==e.indexOf("WFS")?J(x):M.toUpperCase().endsWith(".JSON")||M.toUpperCase().endsWith(".GEOJSON")?J(p):-1!==M.toUpperCase().indexOf("{Z}/{X}/{Y}")||-1!==M.toUpperCase().indexOf("{Z}/{Y}/{X}")?J(E):-1===M.indexOf("/")&&32===M.replaceAll("-","").length?J(j):-1!==M.toUpperCase().indexOf("WMS")&&J(h),V(1))}})]})}},{stepLabel:{children:"Select format"},stepContent:{children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(w,{fullWidth:!0,labelId:"service-type-label",value:K,onChange:function(e){J(e.target.value),q([]),te(""),ie([])},label:"Service Type",inputLabel:{id:"service-type-label"},menuItems:de.map((function(e){var t=(0,d.Z)(e,2),n=t[0];return{key:n,item:{value:n,children:t[1]}}}))}),(0,y.jsx)(Ne,{handleNext:Ce})]})}},{stepLabel:{children:"Configure layer"},stepContent:{children:(0,y.jsxs)(y.Fragment,{children:[0===Q.length&&(0,y.jsx)(N,{label:"Name",variant:"standard",value:ee,onChange:Se}),Q.length>1&&(0,y.jsx)(R,{fullWidth:!0,multiple:pe(),disableCloseOnSelect:!0,disableClearable:!pe(),id:"service-layer-label",options:Q,getOptionLabel:function(e){return"".concat(e[1]," (").concat(e[0],")")},renderOption:function(e,t){return(0,y.jsx)("span",m(m({},e),{},{children:t[1]}))},onChange:function(e,t){pe()?(ie(t.map((function(e){return{layerId:"".concat(e[0])}}))),te(t.map((function(e){return e[1]})).join(", "))):(ie([{layerId:"".concat(t[0])}]),te(t[1]))},renderInput:function(e){return(0,y.jsx)(N,m(m({},e),{},{label:"Select Layer"}))}}),(0,y.jsx)("br",{}),(0,y.jsx)(Ne,{isLast:!pe(),handleNext:pe()?function(){var e=!0;0===ae.length&&(e=!1,he("Layer")),e&&V(3)}:Le})]})}},pe()?{stepLabel:{children:"Enter Name"},stepContent:{children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(N,{sx:{width:"100%"},label:"Name",variant:"standard",value:ee,onChange:Se}),(0,y.jsx)("br",{}),(0,y.jsx)(Ne,{isLast:!0,handleNext:Le})]})}}:null]})]})};var E=window;const j=function(e){var t=e.mapId,n=e.buttonPanel,r=E.cgpv,a=r.api,i=r.react,o=r.ui,s=i.useState,l=i.useEffect,c=s(!1),f=(0,d.Z)(c,2),h=f[0],v=f[1],x=s([]),m=(0,d.Z)(x,2),g=m[0],j=m[1],A=s(),C=(0,d.Z)(A,2),L=C[0],w=C[1],S=s(null),N=(0,d.Z)(S,2),I=N[0],O=N[1],R=s(!1),k=(0,d.Z)(R,2),P=k[0],Z=k[1],T=s(!1),_=(0,d.Z)(T,2),F=_[0],U=_[1],V=o.elements,D=V.IconButton,B=V.AddIcon,M=V.Box,W=V.ArrowDownIcon,Y=V.ArrowRightIcon,G=V.VisibilityIcon,K=V.VisibilityOffIcon,J=V.Menu,X=V.MenuItem,z=V.MenuIcon,Q=V.ListItemIcon,q=V.ListItemText,$=a.map(t).displayLanguage,H=(0,u.ZQJ)({en:{addLayer:"Add Layer",expandAll:"Expand Groups",collapseAll:"Collapse Groups",showAll:"Show All",hideAll:"Hide All"},fr:{addLayer:"Ajouter Couche",expandAll:"Élargir les groupes",collapseAll:"Réduire les groupes",showAll:"Montrer tout",hideAll:"Cacher tout"}}),ee={mainContainer:{display:"flex",flexDirection:"column",height:"inherit"},topControls:{display:"flex",flexDirection:"row",justifyContent:"space-between"},addLayerSection:{display:"flex",alignItems:"center",marginTop:"auto",justifyContent:"end"}},te=Boolean(I);l((function(){return j(Object.keys(a.map(t).layer.geoviewLayers)),a.event.on(a.eventNames.LAYER.EVENT_REMOVE_LAYER,(function(e){var t;(0,u.UKz)(e)&&(t=e.geoviewLayer.geoviewLayerId,j((function(e){return e.filter((function(e){return e!==t}))})))}),t),a.event.on(a.eventNames.LAYER.EVENT_ADD_LAYER,(function(e){(0,u.riW)(e)&&a.event.on(a.eventNames.LAYER.EVENT_LAYER_ADDED,(function(){var n;n=e.layerConfig.geoviewLayerId,Object.keys(a.map(t).layer.geoviewLayers).includes(n)?j((function(e){return[n].concat((0,p.Z)(e))})):console.error("geoviewLayerId is not in the layers list"),a.event.off(a.eventNames.LAYER.EVENT_LAYER_ADDED,t,e.layerConfig.geoviewLayerId)}),t,e.layerConfig.geoviewLayerId)}),t),function(){a.event.off(a.eventNames.LAYER.EVENT_ADD_LAYER,t),a.event.off(a.eventNames.LAYER.EVENT_REMOVE_LAYER,t)}}),[]),l((function(){w(a.map(t).legend.createLegend({layerIds:g,isRemoveable:!0,canSetOpacity:!0}))}),[g]),l((function(){return a.event.on(a.eventNames.PANEL.EVENT_PANEL_CLOSE,(function(){v(!1)}),t,n.buttonPanelId),function(){a.event.off(a.eventNames.PANEL.EVENT_PANEL_CLOSE,t,n.buttonPanelId)}}),[a,n.buttonPanelId,t]),l((function(){w(a.map(t).legend.createLegend({layerIds:g,isRemoveable:!0,canSetOpacity:!0,expandAll:P}))}),[P]),l((function(){w(a.map(t).legend.createLegend({layerIds:g,isRemoveable:!0,canSetOpacity:!0,hideAll:F}))}),[F]);var ne=function(){O(null)},re=function(e){Z(e),ne()},ae=function(e){U(!e),ne()};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(J,{anchorEl:I,open:te,onClose:ne,children:[(0,y.jsxs)(X,{onClick:function(){return re(!0)},children:[(0,y.jsx)(Q,{children:(0,y.jsx)(W,{})}),(0,y.jsx)(q,{children:H[$].expandAll})]}),(0,y.jsxs)(X,{onClick:function(){return re(!1)},children:[(0,y.jsx)(Q,{children:(0,y.jsx)(Y,{})}),(0,y.jsx)(q,{children:H[$].collapseAll})]}),(0,y.jsxs)(X,{onClick:function(){return ae(!0)},children:[(0,y.jsx)(Q,{children:(0,y.jsx)(G,{})}),(0,y.jsx)(q,{children:H[$].showAll})]}),(0,y.jsxs)(X,{onClick:function(){return ae(!1)},children:[(0,y.jsx)(Q,{children:(0,y.jsx)(K,{})}),(0,y.jsx)(q,{children:H[$].hideAll})]})]}),(0,y.jsxs)(M,{sx:ee.mainContainer,children:[h&&(0,y.jsx)(b,{mapId:t,setAddLayerVisible:v}),(0,y.jsxs)(M,{sx:ee.topControls,style:{display:h?"none":"flex"},children:[(0,y.jsx)("div",{children:(0,y.jsx)(D,{color:"primary",onClick:function(e){O(e.currentTarget)},children:(0,y.jsx)(z,{})})}),(0,y.jsxs)(M,{onClick:function(){v((function(e){return!e}))},children:[H[$].addLayer,(0,y.jsx)(D,{children:(0,y.jsx)(B,{})})]})]}),(0,y.jsx)("div",{style:{display:h?"none":"block"},children:L})]})]})},A=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","title":"GeoView Layers/Legend Config Schema","type":"object","version":1,"comments":"Configuration for GeoView layers package.","additionalProperties":false,"properties":{"reorderable":{"type":"boolean","default":true,"description":"Specifies if the items in the legend can be reordered."},"allowImport":{"type":"boolean","default":true,"description":"Specifies if the user-added layers are allowed."},"isOpen":{"type":"object","description":"Specifies whether the legend is opened by default on initial loading of the map for small, medium, and large viewports.","properties":{"large":{"type":"boolean","default":false,"description":"Whether the legend is opened by default on initial loading of the map for large viewports."},"medium":{"type":"boolean","default":false,"description":"Whether the legend is opened by default on initial loading of the map for medium viewports."},"small":{"type":"boolean","default":false,"description":"Whether the legend is opened by default on initial loading of the map for small viewports."}},"additionalProperties":false},"suportedLanguages":{"type":"array","uniqueItems":true,"items":{"type":"string","enum":["en","fr"]},"default":["en","fr"],"description":"ISO 639-1 code indicating the languages supported by the configuration file.","minItems":1},"version":{"type":"string","enum":["1.0"],"description":"The schema version used to validate the configuration file. The schema should enumerate the list of versions accepted by this version of the viewer."}},"required":["suportedLanguages"]}'),C=JSON.parse('{"reorderable":true,"allowImport":true,"isOpen":{"small":false,"medium":false,"large":false},"suportedLanguages":["en","fr"]}');function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var w=window,S=function(e){(0,o.Z)(n,e);var t=L(n);function n(e,a){var o;return(0,r.Z)(this,n),o=t.call(this,e,a),(0,c.Z)((0,i.Z)(o),"schema",(function(){return A})),(0,c.Z)((0,i.Z)(o),"defaultConfig",(function(){return(0,u.ZQJ)(C)})),(0,c.Z)((0,i.Z)(o),"translations",(0,u.ZQJ)({en:{layersPanel:"Layers"},fr:{layersPanel:"Couches"}})),(0,c.Z)((0,i.Z)(o),"added",(function(){var e,t,n,r,a,i=o.pluginProps.mapId,s=w.cgpv,l=s.api,c=s.ui.elements.LayersOutlinedIcon,u=l.map(i).displayLanguage;a=null===(e=o.configObj)||void 0===e||null===(t=e.isOpen)||void 0===t?void 0:t.large;var p={id:"layersPanelButton",tooltip:o.translations[u].layersPanel,tooltipPlacement:"right",children:(0,y.jsx)(c,{}),visible:!0},d={title:o.translations[u].layersPanel,icon:'<i class="material-icons">layers</i>',width:200,status:a};o.buttonPanel=l.map(i).appBarButtons.createAppbarPanel(p,d,null),null===(n=o.buttonPanel)||void 0===n||null===(r=n.panel)||void 0===r||r.changeContent((0,y.jsx)(j,{buttonPanel:o.buttonPanel,mapId:i}))})),o.buttonPanel=null,o}return(0,a.Z)(n,[{key:"removed",value:function(){var e=this.pluginProps.mapId,t=w.cgpv.api;this.buttonPanel&&t.map(e).appBarButtons.removeAppbarPanel(this.buttonPanel.buttonPanelId)}}]),n}(u.Vw$);w.plugins=w.plugins||{},w.plugins["layers-panel"]=(0,u.RFZ)(S)}},e=>{var t;t=925,e(e.s=t)}]);
//# sourceMappingURL=geoview-layers-panel.js.map